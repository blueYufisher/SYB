<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.edu.gdut.llc.mybatis.mapper.self.SelfPicturesMapper">
    <resultMap id="BaseResultMap" type="cn.edu.gdut.llc.mybatis.model.Pictures">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Fri Dec 29 14:32:35 CST 2017.
        -->
        <id column="pic_id" jdbcType="INTEGER" property="picId"/>
        <result column="pic_category" jdbcType="VARCHAR" property="picCategory"/>
        <result column="pic_category_id" jdbcType="INTEGER" property="picCategoryId"/>
        <result column="pic_location" jdbcType="VARCHAR" property="picLocation"/>
        <result column="pic_title" jdbcType="VARCHAR" property="picTitle"/>
        <result column="pic_md5" jdbcType="VARCHAR" property="picMd5"/>
        <result column="pic_url" jdbcType="VARCHAR" property="picUrl"/>
        <result column="pic_note" jdbcType="VARCHAR" property="picNote"/>
        <result column="pic_update_time" jdbcType="TIMESTAMP" property="picUpdateTime"/>
    </resultMap>

    <select id="findLimtPics" resultMap="BaseResultMap" parameterType="cn.edu.gdut.llc.share.mesaage.SMParam">
    SELECT * FROM pictures LIMIT #{startNum},#{pageSize}

  </select>

    <insert id="insertPicReturnID" parameterType="cn.edu.gdut.llc.mybatis.model.Pictures">
        insert into pictures (pic_id, pic_category, pic_category_id,
        pic_location, pic_title, pic_md5,
        pic_url, pic_note, pic_update_time)
        values (#{picId,jdbcType=INTEGER}, #{picCategory,jdbcType=VARCHAR}, #{picCategoryId,jdbcType=INTEGER},
        #{picLocation,jdbcType=VARCHAR}, #{picTitle,jdbcType=VARCHAR}, #{picMd5,jdbcType=VARCHAR},
        #{picUrl,jdbcType=VARCHAR}, #{picNote,jdbcType=VARCHAR}, #{picUpdateTime,jdbcType=TIMESTAMP})
        <selectKey keyProperty="picId" order="AFTER" resultType="Integer">
            SELECT LAST_INSERT_ID()
        </selectKey>
    </insert>

</mapper>