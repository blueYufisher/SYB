<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.edu.gdut.llc.mybatis.mapper.self.SelfFileMapper">
    <resultMap id="BaseResultMap" type="cn.edu.gdut.llc.mybatis.model.File">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Jan 15 10:50:11 CST 2018.
        -->
        <id column="file_id" jdbcType="INTEGER" property="fileId" />
        <result column="file_category" jdbcType="VARCHAR" property="fileCategory" />
        <result column="file_title" jdbcType="VARCHAR" property="fileTitle" />
        <result column="file_url" jdbcType="VARCHAR" property="fileUrl" />
        <result column="file_note" jdbcType="VARCHAR" property="fileNote" />
        <result column="file_visit" jdbcType="INTEGER" property="fileVisit" />
        <result column="file_update_time" jdbcType="TIMESTAMP" property="fileUpdateTime" />
        <result column="file_md5" jdbcType="VARCHAR" property="fileMd5" />
        <result column="file_location" jdbcType="VARCHAR" property="fileLocation" />
    </resultMap>

    <select id="findLimtFiles" resultMap="BaseResultMap" parameterType="cn.edu.gdut.llc.share.mesaage.SMParam">
    SELECT * FROM file LIMIT #{startNum},#{pageSize}

  </select>

    <insert id="insertFilesReturnID" parameterType="cn.edu.gdut.llc.mybatis.model.File">
        insert into file (file_id, file_category, file_title,
        file_url, file_note, file_visit,
        file_update_time, file_md5, file_location
        )
        values (#{fileId,jdbcType=INTEGER}, #{fileCategory,jdbcType=VARCHAR}, #{fileTitle,jdbcType=VARCHAR},
        #{fileUrl,jdbcType=VARCHAR}, #{fileNote,jdbcType=VARCHAR}, #{fileVisit,jdbcType=INTEGER},
        #{fileUpdateTime,jdbcType=TIMESTAMP}, #{fileMd5,jdbcType=VARCHAR}, #{fileLocation,jdbcType=VARCHAR}
        )
        <selectKey keyProperty="fileId" order="AFTER" resultType="Integer">
            SELECT LAST_INSERT_ID()
        </selectKey>
    </insert>

</mapper>